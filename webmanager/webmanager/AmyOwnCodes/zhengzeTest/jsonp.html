<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
		
			.regist{
				height: 250px;
				background: pink;
			}
			.login{
				height: 150px;
				background: lightskyblue;
			}
		</style>
	</head>
	<body>
		<div class="login">
			<h2>登录：</h2>
			用户名：<input type="text" id="username1" value="" placeholder="请输入用户名"/>
			<br /><br />
			密码：<input type="password" id="pass1" value="" />
			<br /><br />
			<input type="button" id="btn2" value="登录" />
		</div>
		
		
		
		<script type="text/javascript">
		//跨域只能是get方式
			//jsonp只能用get方式
			var userName2 = document.getElementById("username1");
			var pass2 = document.getElementById("pass1");
			var btn2 = document.getElementById("btn2");
			btn2.onclick = function(){
				var nameValue = userName2.value;
				var passWord = pass2.value;
				//jsonp开始
				var jsp = document.createElement("script");
				jsp.src = "http://10.9.163.115:8081/user/loginget?name="+nameValue+"&password="+passWord+"&callback=fn";
				document.body.appendChild(jsp);
				//jsonp用完
				jsp.onload=function(){
		            this.parentNode.removeChild(this);
		        }
			}
			function fn(temp){
				if(temp == 1){
					alert("登陆成功！！！");
				}else{
					alert("登录失败！！");
				}
			}
		</script>
		
	</body>
</html>
